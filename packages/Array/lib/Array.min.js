/**
 * Copyright (c) 2018, Travis Clarke
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(t.Array={})}(this,function(t){"use strict";function r(t,r){return t-r}function e(t){return function(r,e){return t(r,e)<0}}function n(t,r,e){if(r!==e){var n=[t[e],t[r]];t[r]=n[0],t[e]=n[1]}}function o(t,r){return t=Math.ceil(t),r=Math.floor(r),Math.floor(Math.random()*(r-t+1))+t}function i(t){function n(t){if(t.length<=1)return t;var r=Math.trunc(t.length/2),e=t.slice(0,r),o=t.slice(r);return n(e),n(o),a(t,e,o,u)}var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if(!(this instanceof Array||t instanceof Array))throw Error("Array type is required");var i=this instanceof Array?this:t.slice(0),u=e(o);return n(i)}function a(t,r,e,n){for(var o=0,i=0,a=0;o<r.length&&i<e.length;)n(r[o],e[i])?(t[a]=r[o],o++):(t[a]=e[i],i++),a++;for(;o<r.length;)t[a]=r[o],o++,a++;for(;i<e.length;)t[a]=e[i],i++,a++;return t}function u(t){function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1;if(r<e){var o=void 0;switch(u){case v.LOMUTO:o=c(t,r,e,l,a),n(t,r,o-1);break;case v.HOARE:default:o=f(t,r,e,l,a),n(t,r,o)}n(t,o+1,e)}return t}var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if(!(this instanceof Array||t instanceof Array))throw Error("Array type is required");var i=this instanceof Array?this:t.slice(0),a=e(o),u=v.HOARE,l=d.RANDOM;return n(i)}function c(t,r,e,o,i){switch(o){case d.LOW:return function(t,r,e){for(var o=r,a=r+1,u=r+1;u<=e;u++)i(t[u],t[o])&&(n(t,a,u),a++);return n(t,a-1,r),a-1}(t,r,e);case d.HIGH:default:return function(t,r,e){for(var o=e,a=r-1,u=r;u<e;u++)i(t[u],t[o])&&(a++,n(t,a,u));return n(t,a+1,e),a+1}(t,r,e)}}function f(t,r,e,i,a){var u=void 0;switch(i){case d.LOW:u=r;break;case d.RANDOM:n(t,o(r,e),r),u=r;break;case d.MID:default:u=Math.trunc((r+e)/2)}for(var c=r-1,f=e+1;;){do{c++}while(a(t[c],t[u]));do{f--}while(a(t[u],t[f]));if(c>=f)return f;n(t,c,f)}}
var l=function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")},s=function(){function t(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(r,e,n){return e&&t(r.prototype,e),n&&t(r,n),r}}(),h=function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)},y=function(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?t:r},p=function(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)},v={LOMUTO:"lomuto",HOARE:"hoare"},d={LOW:"low",HIGH:"high",MID:"mid",RANDOM:"rand"};t.Array=function(t){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];l(this,r);var e=y(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return e.push.apply(e,p(t)),e}return h(r,t),s(r,[{key:"flatMap",value:function(t){return this.map(t).flatten()}},{key:"flatten",value:function(){function t(r,e){return r<=0?e:e.reduce(function(e,n){return e.concat(Array.isArray(n)?t(r-1,n):n)},[])}return t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,this)}},{key:"mergeSort",value:function(t){return i.call(this,null,t)}},{key:"quickSort",value:function(t){return u.call(this,null,t)}}]),r}(function(t){function r(){var r=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(r,Object.getPrototypeOf(this)),r}return r.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(r,t):r.__proto__=t,r}(Array)),Object.defineProperty(t,"__esModule",{value:!0})});